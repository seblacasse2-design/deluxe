<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Distribution Pla-m â€” Boutique en ligne</title>
  <meta name="description" content="Produits sanitaires et de nettoyage industriel â€” Distribution Pla-m, Saint-Hubert QC" />
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700;900&family=Syne:wght@400;500;600;700&display=swap');

    :root {
      --primary:      #0a1628;
      --secondary:    #e8f0fb;
      --accent:       #1e6fc4;
      --accent-dark:  #1458a0;
      --accent-light: #4d9de0;
      --text:         #0d1f3c;
      --text-light:   #5a7191;
      --bg-light:     #f0f5fc;
      --border:       #ccdaf0;
      --shadow:       rgba(10,22,40,.08);
      --shadow-h:     rgba(30,111,196,.18);
    }
    *{margin:0;padding:0;box-sizing:border-box;}
    body{font-family:'Syne',sans-serif;background:var(--bg-light);color:var(--text);line-height:1.6;overflow-x:hidden;}

    /* â”€â”€ Animations â”€â”€ */
    @keyframes fadeInUp{from{opacity:0;transform:translateY(28px)}to{opacity:1;transform:translateY(0)}}
    @keyframes slideRight{from{transform:translateX(100%)}to{transform:translateX(0)}}
    @keyframes scaleIn{from{opacity:0;transform:scale(.93)}to{opacity:1;transform:scale(1)}}
    @keyframes fadeIn{from{opacity:0}to{opacity:1}}

    /* â”€â”€ Header â”€â”€ */
    .header{background:var(--primary);color:#fff;padding:1.4rem 0;position:sticky;top:0;z-index:900;box-shadow:0 4px 20px var(--shadow);}
    .header-inner{max-width:1400px;margin:0 auto;padding:0 2rem;display:flex;justify-content:space-between;align-items:center;}
    .logo{font-family:'Playfair Display',serif;font-size:1.9rem;font-weight:900;background:linear-gradient(135deg,#4d9de0,#a8d4f5);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;cursor:pointer;letter-spacing:-.5px;}
    .nav{display:flex;gap:2rem;align-items:center;}
    .nav a{color:#fff;text-decoration:none;font-weight:500;font-size:.93rem;letter-spacing:.2px;transition:color .25s;position:relative;padding:.4rem 0;}
    .nav a::after{content:'';position:absolute;bottom:0;left:0;width:0;height:2px;background:var(--accent-light);transition:width .3s;}
    .nav a:hover::after{width:100%;}
    .cart-btn{background:var(--accent);padding:.65rem 1.3rem;border-radius:50px;display:flex;align-items:center;gap:.5rem;cursor:pointer;font-weight:600;font-size:.9rem;transition:all .3s;}
    .cart-btn:hover{background:var(--accent-dark);transform:translateY(-2px);box-shadow:0 5px 15px rgba(30,111,196,.45);}
    .cart-badge{background:var(--primary);color:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:.72rem;font-weight:700;}

    /* â”€â”€ Hero â”€â”€ */
    .hero{background:linear-gradient(135deg,#0a1628 0%,#0d2347 50%,#1a3a6b 100%);color:#fff;padding:5rem 2rem;text-align:center;position:relative;overflow:hidden;}
    .hero::before{content:'';position:absolute;inset:0;background:radial-gradient(circle at 20% 50%,rgba(30,111,196,.25) 0%,transparent 55%),radial-gradient(circle at 80% 30%,rgba(77,157,224,.15) 0%,transparent 50%);pointer-events:none;}
    .hero-inner{position:relative;z-index:1;animation:fadeInUp .8s ease;}
    .hero h1{font-family:'Playfair Display',serif;font-size:3.8rem;font-weight:900;line-height:1.1;letter-spacing:-1px;margin-bottom:1rem;}
    .hero p{font-size:1.15rem;opacity:.88;max-width:580px;margin:0 auto;}

    /* â”€â”€ Container â”€â”€ */
    .container{max-width:1400px;margin:0 auto;padding:3rem 2rem;}

    /* â”€â”€ Filters â”€â”€ */
    .filters{display:flex;gap:.9rem;margin-bottom:2.5rem;flex-wrap:wrap;animation:fadeInUp .6s ease .2s both;}
    .filter-btn{padding:.75rem 1.7rem;border:2px solid var(--border);background:#fff;border-radius:50px;cursor:pointer;font-family:'Syne',sans-serif;font-weight:600;font-size:.88rem;transition:all .3s;}
    .filter-btn:hover{border-color:var(--accent);transform:translateY(-2px);box-shadow:0 5px 15px var(--shadow-h);}
    .filter-btn.active{background:var(--accent);border-color:var(--accent);color:#fff;}

    /* â”€â”€ Product Grid â”€â”€ */
    .products-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(310px,1fr));gap:2.2rem;animation:fadeInUp .8s ease .4s both;}
    .product-card{background:#fff;border-radius:18px;overflow:hidden;box-shadow:0 8px 28px var(--shadow);transition:all .35s cubic-bezier(.4,0,.2,1);cursor:default;}
    .product-card:hover{transform:translateY(-9px);box-shadow:0 18px 38px var(--shadow-h);}
    .product-img{width:100%;height:300px;object-fit:cover;background:var(--secondary);transition:transform .4s ease;display:block;}
    .product-card:hover .product-img{transform:scale(1.04);}
    .product-body{padding:1.7rem;}
    .product-cat{font-size:.78rem;color:var(--accent);font-weight:600;text-transform:uppercase;letter-spacing:1.5px;margin-bottom:.4rem;}
    .product-name{font-family:'Playfair Display',serif;font-size:1.4rem;font-weight:700;margin-bottom:.7rem;line-height:1.3;}
    .product-desc{color:var(--text-light);font-size:.88rem;margin-bottom:1.1rem;line-height:1.6;}
    .product-footer{display:flex;justify-content:space-between;align-items:center;}
    .product-price{font-family:'Playfair Display',serif;font-size:1.7rem;font-weight:700;}
    .add-btn{background:var(--accent);color:#fff;border:none;padding:.85rem 1.6rem;border-radius:50px;cursor:pointer;font-family:'Syne',sans-serif;font-weight:600;font-size:.88rem;display:flex;align-items:center;gap:.45rem;transition:all .3s;}
    .add-btn:hover{background:var(--accent-dark);transform:scale(1.05);box-shadow:0 5px 15px rgba(30,111,196,.4);}

    /* â”€â”€ Cart Sidebar â”€â”€ */
    .cart-sidebar{position:fixed;top:0;right:0;width:440px;height:100vh;background:#fff;box-shadow:-5px 0 30px var(--shadow-h);transform:translateX(100%);transition:transform .4s cubic-bezier(.4,0,.2,1);z-index:1800;display:flex;flex-direction:column;}
    .cart-sidebar.open{transform:translateX(0);}
    .cart-head{padding:1.8rem 2rem;border-bottom:2px solid var(--border);display:flex;justify-content:space-between;align-items:center;}
    .cart-head h2{font-family:'Playfair Display',serif;font-size:1.7rem;font-weight:700;}
    .close-btn{background:none;border:none;font-size:1.4rem;cursor:pointer;color:var(--text);transition:all .3s;padding:.4rem;}
    .close-btn:hover{color:var(--accent);transform:rotate(90deg);}
    .cart-items{flex:1;overflow-y:auto;padding:1.8rem 2rem;}
    .cart-item{display:flex;gap:1.3rem;margin-bottom:1.8rem;padding-bottom:1.8rem;border-bottom:1px solid var(--border);animation:scaleIn .3s ease;}
    .cart-item-img{width:90px;height:90px;object-fit:cover;border-radius:10px;background:var(--secondary);flex-shrink:0;}
    .cart-item-info{flex:1;}
    .cart-item-name{font-weight:600;font-size:1rem;margin-bottom:.4rem;}
    .cart-item-price{color:var(--accent);font-weight:600;margin-bottom:.7rem;}
    .qty-controls{display:flex;align-items:center;gap:.9rem;}
    .qty-btn{background:var(--secondary);border:none;width:30px;height:30px;border-radius:50%;cursor:pointer;font-weight:700;transition:all .25s;display:flex;align-items:center;justify-content:center;}
    .qty-btn:hover{background:var(--accent);color:#fff;}
    .remove-btn{background:none;border:none;color:var(--text-light);cursor:pointer;margin-left:auto;padding:.4rem;transition:color .25s;}
    .remove-btn:hover{color:#d32f2f;}
    .cart-foot{padding:1.8rem 2rem;border-top:2px solid var(--border);background:var(--bg-light);}
    .cart-total-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.3rem;font-size:1.25rem;}
    .cart-total-row strong{font-family:'Playfair Display',serif;font-weight:700;}
    .checkout-btn{width:100%;background:var(--primary);color:#fff;border:none;padding:1.15rem;border-radius:50px;cursor:pointer;font-family:'Syne',sans-serif;font-weight:700;font-size:.98rem;transition:all .3s;letter-spacing:.4px;}
    .checkout-btn:hover{background:var(--accent);transform:translateY(-2px);box-shadow:0 10px 25px var(--shadow-h);}
    .empty-cart{text-align:center;padding:4rem 2rem;color:var(--text-light);}
    .empty-cart i{font-size:3.5rem;margin-bottom:1rem;opacity:.25;display:block;}

    /* â”€â”€ Modal â”€â”€ */
    .overlay{position:fixed;inset:0;background:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center;z-index:2500;animation:fadeIn .3s ease;padding:1rem;}
    .modal{background:#fff;border-radius:22px;padding:2.8rem;width:100%;max-width:500px;box-shadow:0 20px 60px rgba(0,0,0,.3);animation:scaleIn .3s ease;max-height:90vh;overflow-y:auto;}
    .modal h2{font-family:'Playfair Display',serif;font-size:1.9rem;font-weight:700;margin-bottom:1.8rem;text-align:center;}
    .form-group{margin-bottom:1.3rem;}
    .form-group label{display:block;margin-bottom:.45rem;font-weight:600;font-size:.88rem;}
    .form-group input,.form-group select,.form-group textarea{width:100%;padding:.95rem 1rem;border:2px solid var(--border);border-radius:11px;font-family:'Syne',sans-serif;font-size:.97rem;transition:border-color .25s,box-shadow .25s;}
    .form-group input:focus,.form-group select:focus,.form-group textarea:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px rgba(30,111,196,.1);}
    .form-group textarea{resize:vertical;min-height:80px;}
    .form-grid{display:grid;grid-template-columns:1fr 1fr;gap:1rem;}
    .form-grid .full{grid-column:1/-1;}
    .btn-primary{width:100%;background:var(--accent);color:#fff;border:none;padding:1.1rem;border-radius:50px;cursor:pointer;font-family:'Syne',sans-serif;font-weight:700;font-size:.97rem;margin-top:.8rem;transition:all .3s;}
    .btn-primary:hover{background:var(--accent-dark);transform:translateY(-2px);box-shadow:0 10px 25px rgba(30,111,196,.4);}
    .btn-secondary{width:100%;background:var(--secondary);color:var(--text);border:2px solid var(--border);padding:1rem;border-radius:50px;cursor:pointer;font-family:'Syne',sans-serif;font-weight:600;font-size:.95rem;transition:all .3s;}
    .btn-secondary:hover{border-color:var(--accent);color:var(--accent);}
    .auth-switch{text-align:center;margin-top:1.3rem;color:var(--text-light);font-size:.9rem;}
    .auth-switch button{background:none;border:none;color:var(--accent);font-weight:600;cursor:pointer;text-decoration:underline;}
    .demo-box{margin-top:1rem;padding:.9rem 1rem;background:var(--secondary);border-radius:10px;font-size:.84rem;color:var(--text-light);}
    .demo-box strong{color:var(--text);}

    /* â”€â”€ Admin â”€â”€ */
    .admin-wrap{background:var(--bg-light);min-height:100vh;}
    .admin-topbar{background:#fff;padding:1.8rem 2rem;box-shadow:0 2px 10px var(--shadow);display:flex;justify-content:space-between;align-items:center;}
    .admin-topbar h1{font-family:'Playfair Display',serif;font-size:2.2rem;font-weight:700;}
    .stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(230px,1fr));gap:1.8rem;margin-bottom:2.8rem;}
    .stat-card{background:#fff;padding:1.8rem;border-radius:15px;box-shadow:0 5px 15px var(--shadow);transition:all .3s;}
    .stat-card:hover{transform:translateY(-4px);box-shadow:0 10px 25px var(--shadow-h);}
    .stat-val{font-family:'Playfair Display',serif;font-size:2.3rem;font-weight:700;color:var(--accent);margin-bottom:.4rem;}
    .stat-lbl{color:var(--text-light);font-weight:500;font-size:.92rem;}
    .admin-card{background:#fff;padding:2.2rem;border-radius:15px;box-shadow:0 5px 15px var(--shadow);margin-bottom:2rem;}
    .admin-card-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.8rem;}
    .admin-card-head h2{font-family:'Playfair Display',serif;font-size:1.7rem;font-weight:700;}
    .tbl{width:100%;border-collapse:collapse;}
    .tbl th{text-align:left;padding:.9rem 1rem;background:var(--secondary);font-weight:600;font-size:.88rem;border-bottom:2px solid var(--border);}
    .tbl td{padding:1.1rem 1rem;border-bottom:1px solid var(--border);font-size:.92rem;}
    .tbl tr:hover td{background:var(--bg-light);}
    .tbl img{width:52px;height:52px;object-fit:cover;border-radius:9px;background:var(--secondary);}
    .tag{display:inline-block;padding:.28rem .85rem;border-radius:20px;font-size:.8rem;font-weight:600;}
    .tag-blue{background:var(--secondary);color:var(--accent);}
    .tag-green{background:#e8f5e9;color:#2e7d32;}
    .tag-orange{background:#fff3e0;color:#e65100;}
    .tag-red{background:#fce4ec;color:#c62828;}
    .act-btn{padding:.55rem 1.1rem;border:none;border-radius:8px;cursor:pointer;font-weight:600;font-size:.82rem;margin-right:.4rem;transition:all .25s;}
    .act-blue{background:var(--accent);color:#fff;}
    .act-blue:hover{background:var(--accent-dark);transform:translateY(-1px);}
    .act-red{background:#d32f2f;color:#fff;}
    .act-red:hover{background:#b71c1c;transform:translateY(-1px);}
    .act-green{background:#2e7d32;color:#fff;}
    .act-green:hover{background:#1b5e20;transform:translateY(-1px);}
    .product-form-box{background:var(--bg-light);border:2px solid var(--accent);border-radius:14px;padding:1.8rem;margin-bottom:1.8rem;animation:scaleIn .3s ease;}
    .product-form-box h3{font-family:'Playfair Display',serif;font-size:1.3rem;color:var(--accent);margin-bottom:1.3rem;}

    /* â”€â”€ Profile â”€â”€ */
    .profile-card{background:#fff;padding:2.2rem;border-radius:15px;box-shadow:0 5px 15px var(--shadow);margin-bottom:1.8rem;}
    .profile-head{display:flex;align-items:center;gap:1.8rem;margin-bottom:1.8rem;padding-bottom:1.8rem;border-bottom:2px solid var(--border);}
    .avatar{width:90px;height:90px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--accent-light));display:flex;align-items:center;justify-content:center;font-size:2.2rem;color:#fff;font-weight:700;font-family:'Playfair Display',serif;flex-shrink:0;}
    .order-item{padding:1.3rem;border:2px solid var(--border);border-radius:11px;margin-bottom:.9rem;transition:all .3s;}
    .order-item:hover{border-color:var(--accent);box-shadow:0 5px 15px var(--shadow);}
    .order-item-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:.7rem;}

    /* â”€â”€ Footer â”€â”€ */
    footer{background:var(--primary);color:#fff;padding:3.5rem 0 2rem;margin-top:4rem;}
    .footer-inner{max-width:1400px;margin:0 auto;padding:0 2rem;}
    .footer-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(230px,1fr));gap:2.5rem;margin-bottom:2.5rem;}
    .footer-logo{font-family:'Playfair Display',serif;font-size:1.7rem;font-weight:900;background:linear-gradient(135deg,#4d9de0,#a8d4f5);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:.9rem;}
    .footer-desc{color:rgba(255,255,255,.6);font-size:.92rem;line-height:1.7;}
    .footer-title{font-family:'Playfair Display',serif;font-size:1.1rem;margin-bottom:1.1rem;color:var(--accent-light);}
    .footer-link{display:flex;align-items:flex-start;gap:.75rem;color:rgba(255,255,255,.7);text-decoration:none;margin-bottom:.8rem;font-size:.92rem;transition:color .25s;}
    .footer-link:hover{color:var(--accent-light);}
    .footer-link i{color:var(--accent-light);width:16px;margin-top:3px;flex-shrink:0;}
    .footer-hours-row{display:flex;justify-content:space-between;color:rgba(255,255,255,.7);font-size:.9rem;margin-bottom:.45rem;}
    .footer-hours-row span:last-child{color:#fff;font-weight:600;}
    .footer-response{margin-top:1.3rem;padding:.9rem 1rem;background:rgba(30,111,196,.15);border-radius:9px;border:1px solid rgba(77,157,224,.3);font-size:.88rem;color:rgba(255,255,255,.7);}
    .footer-bottom{border-top:1px solid rgba(255,255,255,.1);padding-top:1.4rem;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem;}
    .footer-bottom p{color:rgba(255,255,255,.4);font-size:.82rem;}
    .footer-bottom a{color:rgba(255,255,255,.4);text-decoration:none;font-size:.82rem;transition:color .25s;}
    .footer-bottom a:hover{color:var(--accent-light);}

    /* â”€â”€ Overlay backdrop â”€â”€ */
    .overlay-bg{position:fixed;inset:0;background:rgba(0,0,0,.35);z-index:1700;}

    /* â”€â”€ Notification toast â”€â”€ */
    .toast{position:fixed;bottom:2rem;right:2rem;background:var(--primary);color:#fff;padding:1rem 1.6rem;border-radius:12px;font-weight:600;font-size:.92rem;z-index:9999;animation:fadeInUp .4s ease;border-left:4px solid var(--accent-light);}

    /* â”€â”€ Responsive â”€â”€ */
    @media(max-width:768px){
      .hero h1{font-size:2.4rem;}
      .products-grid{grid-template-columns:1fr;}
      .cart-sidebar{width:100%;}
      .nav a:not(.cart-btn){display:none;}
      .form-grid{grid-template-columns:1fr;}
      .tbl{font-size:.82rem;}
      .tbl th:nth-child(5),.tbl td:nth-child(5){display:none;}
    }
  </style>
</head>
<body>
<div id="root"></div>

<script type="text/babel">
const { useState, useEffect, useRef } = React;

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   DONNÃ‰ES INITIALES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const ADMIN_EMAIL    = 'slacasse@displam.com';
const ADMIN_PASSWORD = '1234';

const INITIAL_PRODUCTS = [
  { id:1, name:"Papier HygiÃ©nique Industriel",    category:"HygiÃ¨ne",     price:49.99, description:"Rouleau gÃ©ant 2 Ã©paisseurs, caisse de 12 rouleaux. IdÃ©al pour installations commerciales et industrielles.", image:"https://images.unsplash.com/photo-1584556812952-905ffd0c611a?w=600", stock:80 },
  { id:2, name:"Savon pour Plancher 4 L",          category:"Nettoyage",   price:24.99, description:"Nettoyant concentrÃ© haute performance pour tous types de planchers. Formule dÃ©graissante, senteur agrumes.",  image:"https://images.unsplash.com/photo-1563453392212-326f5e854473?w=600", stock:50 },
  { id:3, name:"DÃ©sinfectant Multi-Surface 4 L",   category:"DÃ©sinfection",price:29.99, description:"Ã‰limine 99,9% des bactÃ©ries et virus. Conforme normes HACCP. Sans rinÃ§age.",                                  image:"https://images.unsplash.com/photo-1585771724684-38269d6639fd?w=600", stock:60 },
  { id:4, name:"DÃ©graissant Industriel 4 L",       category:"Nettoyage",   price:34.99, description:"DÃ©graissant puissant pour cuisines industrielles et ateliers. Action rapide, biodÃ©gradable.",                  image:"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=600", stock:40 },
  { id:5, name:"Savon Ã  Mains AntibactÃ©rien 4 L",  category:"HygiÃ¨ne",     price:19.99, description:"Savon liquide doux pour distributeurs muraux. Formule hydratante, pH neutre.",                                  image:"https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?w=600", stock:90 },
  { id:6, name:"Papier Essuie-Tout Industriel",    category:"HygiÃ¨ne",     price:39.99, description:"Rouleau haute absorption, caisse de 6 rouleaux jumbo. RÃ©sistant Ã  l'humiditÃ©.",                                image:"https://images.unsplash.com/photo-1600857544200-b2f666a9a2ec?w=600", stock:70 },
  { id:7, name:"Nettoyant Salle de Bain 4 L",      category:"DÃ©sinfection",price:22.99, description:"Ã‰limine calcaire et dÃ©pÃ´ts minÃ©raux. Anti-taches pour cÃ©ramique, chrome et inox.",                            image:"https://images.unsplash.com/photo-1585771724684-38269d6639fd?w=600", stock:45 },
  { id:8, name:"Gel Hydroalcoolique 4 L",          category:"DÃ©sinfection",price:27.99, description:"70% d'alcool, sÃ©chage rapide. Pour recharge de distributeurs.",                                                image:"https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?w=600", stock:55 },
  { id:9, name:"Sacs Poubelle Industriels 200 L",  category:"HygiÃ¨ne",     price:44.99, description:"Caisse de 100 unitÃ©s extra-rÃ©sistantes pour dÃ©chets lourds.",                                                  image:"https://images.unsplash.com/photo-1604187351574-c75ca79f5807?w=600", stock:100},
];

/* Persistance localStorage */
const load = (key, def) => { try { const v = localStorage.getItem(key); return v ? JSON.parse(v) : def; } catch { return def; } };
const save = (key, val) => { try { localStorage.setItem(key, JSON.stringify(val)); } catch {} };

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   APP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function App() {
  const [view,      setView]      = useState('shop');
  const [products,  setProducts]  = useState(() => load('displam_products', INITIAL_PRODUCTS));
  const [users,     setUsers]     = useState(() => load('displam_users', []));
  const [orders,    setOrders]    = useState(() => load('displam_orders', [
    { id:'ORD-001', date:'2026-02-10', userEmail:'client@exemple.com', userName:'Jean Tremblay', total:449.98, status:'delivered', items:[{name:'DÃ©sinfectant 4L',qty:2,price:224.99}] },
    { id:'ORD-002', date:'2026-02-15', userEmail:'client2@exemple.com', userName:'Marie CÃ´tÃ©',  total:299.99, status:'processing',items:[{name:'Savon plancher 4L',qty:1,price:299.99}] },
  ]));
  const [cart,       setCart]      = useState([]);
  const [cartOpen,   setCartOpen]  = useState(false);
  const [user,       setUser]      = useState(() => load('displam_session', null));
  const [authModal,  setAuthModal] = useState(false);
  const [authMode,   setAuthMode]  = useState('login');
  const [catFilter,  setCatFilter] = useState('Tous');
  const [toast,      setToast]     = useState(null);

  /* Sync to localStorage */
  useEffect(() => save('displam_products', products), [products]);
  useEffect(() => save('displam_users',    users),    [users]);
  useEffect(() => save('displam_orders',   orders),   [orders]);
  useEffect(() => save('displam_session',  user),     [user]);

  /* Toast helper */
  const showToast = (msg) => {
    setToast(msg);
    setTimeout(() => setToast(null), 2800);
  };

  /* Cart helpers */
  const addToCart = (p) => {
    setCart(prev => {
      const ex = prev.find(i => i.id === p.id);
      return ex ? prev.map(i => i.id===p.id ? {...i, quantity:i.quantity+1} : i)
                : [...prev, {...p, quantity:1}];
    });
    setCartOpen(true);
    showToast(`âœ“ ${p.name} ajoutÃ© au panier`);
  };
  const updQty = (id, d) => setCart(prev => prev.map(i => i.id===id ? {...i, quantity:Math.max(1,i.quantity+d)} : i));
  const remItem = (id) => setCart(prev => prev.filter(i => i.id!==id));
  const cartTotal = cart.reduce((s,i) => s + i.price*i.quantity, 0);
  const cartCount = cart.reduce((s,i) => s + i.quantity, 0);

  /* Auth */
  const handleLogin = (email, password) => {
    if (email===ADMIN_EMAIL && password===ADMIN_PASSWORD) {
      const adminUser = { email:ADMIN_EMAIL, name:'Simon Lacasse', isAdmin:true };
      setUser(adminUser); setAuthModal(false); showToast('Bienvenue, Simon !'); return;
    }
    const found = users.find(u => u.email===email && u.password===password);
    if (found) { const {password:_, ...safe} = found; setUser(safe); setAuthModal(false); showToast(`Bienvenue, ${safe.name} !`); }
    else { showToast('âŒ Courriel ou mot de passe incorrect'); }
  };
  const handleRegister = (name, email, password, phone, company) => {
    if (users.find(u => u.email===email) || email===ADMIN_EMAIL) { showToast('âŒ Ce courriel est dÃ©jÃ  utilisÃ©'); return; }
    const newUser = { id:Date.now(), name, email, password, phone:phone||'', company:company||'', isAdmin:false, createdAt:new Date().toLocaleDateString('fr-CA') };
    setUsers(prev => [...prev, newUser]);
    const {password:_, ...safe} = newUser;
    setUser(safe); setAuthModal(false); showToast(`Compte crÃ©Ã© ! Bienvenue, ${name} !`);
  };
  const handleLogout = () => { setUser(null); setView('shop'); showToast('DÃ©connexion rÃ©ussie'); };

  /* Checkout */
  const handleCheckout = () => {
    if (!user) { setAuthMode('login'); setAuthModal(true); return; }
    const newOrder = {
      id: 'ORD-' + Date.now(),
      date: new Date().toLocaleDateString('fr-CA'),
      userEmail: user.email,
      userName: user.name,
      total: cartTotal * 1.14975,
      status: 'processing',
      items: cart.map(i => ({ name:i.name, qty:i.quantity, price:i.price }))
    };
    setOrders(prev => [newOrder, ...prev]);
    setCart([]); setCartOpen(false);
    showToast('ğŸ‰ Commande confirmÃ©e ! NumÃ©ro : ' + newOrder.id);
  };

  /* Product CRUD */
  const saveProduct = (p) => {
    if (p.id) setProducts(prev => prev.map(x => x.id===p.id ? p : x));
    else setProducts(prev => [...prev, {...p, id:Date.now()}]);
  };
  const deleteProduct = (id) => setProducts(prev => prev.filter(p => p.id!==id));

  /* Delete user */
  const deleteUser = (id) => setUsers(prev => prev.filter(u => u.id!==id));

  const categories = ['Tous', ...new Set(products.map(p => p.category))];
  const filtered   = catFilter==='Tous' ? products : products.filter(p => p.category===catFilter);

  return (
    <>
      <Header user={user} cartCount={cartCount} onCart={()=>setCartOpen(true)}
        onView={setView} onAuth={()=>{setAuthMode('login');setAuthModal(true);}} onLogout={handleLogout} view={view} />

      {/* â”€â”€ SHOP â”€â”€ */}
      {view==='shop' && <>
        <div className="hero">
          <div className="hero-inner">
            <h1>Produits Sanitaires &amp; Nettoyage</h1>
            <p>Solutions professionnelles pour vos opÃ©rations â€” hygiÃ¨ne, dÃ©sinfection et nettoyage industriel</p>
          </div>
        </div>
        <div className="container">
          <div className="filters">
            {categories.map(c => <button key={c} className={`filter-btn${catFilter===c?' active':''}`} onClick={()=>setCatFilter(c)}>{c}</button>)}
          </div>
          <div className="products-grid">
            {filtered.map(p => <ProductCard key={p.id} product={p} onAdd={addToCart} />)}
          </div>
        </div>
      </>}

      {/* â”€â”€ PROFILE â”€â”€ */}
      {view==='profile' && user && !user.isAdmin &&
        <UserProfile user={user} orders={orders.filter(o=>o.userEmail===user.email)} />}

      {/* â”€â”€ ADMIN â”€â”€ */}
      {view==='admin' && user?.isAdmin &&
        <AdminDashboard products={products} users={users} orders={orders}
          onSaveProduct={saveProduct} onDeleteProduct={deleteProduct} onDeleteUser={deleteUser} />}

      {/* â”€â”€ CART SIDEBAR â”€â”€ */}
      <CartSidebar open={cartOpen} onClose={()=>setCartOpen(false)} cart={cart}
        onQty={updQty} onRemove={remItem} total={cartTotal} onCheckout={handleCheckout} />

      {/* â”€â”€ AUTH MODAL â”€â”€ */}
      {authModal && <AuthModal mode={authMode} onClose={()=>setAuthModal(false)}
        onLogin={handleLogin} onRegister={handleRegister} onToggle={()=>setAuthMode(m=>m==='login'?'register':'login')} />}

      {/* â”€â”€ TOAST â”€â”€ */}
      {toast && <div className="toast">{toast}</div>}

      <Footer onView={setView} />
    </>
  );
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   HEADER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function Header({ user, cartCount, onCart, onView, onAuth, onLogout, view }) {
  return (
    <header className="header">
      <div className="header-inner">
        <div className="logo" onClick={()=>onView('shop')}>DISPLAM</div>
        <nav className="nav">
          <a href="#" onClick={e=>{e.preventDefault();onView('shop');}}>Boutique</a>
          <a href="#footer-contact" onClick={e=>{e.preventDefault();document.getElementById('footer-contact')?.scrollIntoView({behavior:'smooth'});}}>Contact</a>
          {user ? (<>
            {!user.isAdmin && <a href="#" onClick={e=>{e.preventDefault();onView('profile');}}>Mon compte</a>}
            {user.isAdmin  && <a href="#" onClick={e=>{e.preventDefault();onView('admin');}} style={{color:'#a8d4f5',fontWeight:700}}>âš™ Admin</a>}
            <a href="#" onClick={e=>{e.preventDefault();onLogout();}}>DÃ©connexion</a>
          </>) : (
            <a href="#" onClick={e=>{e.preventDefault();onAuth();}}>Connexion</a>
          )}
          <div className="cart-btn" onClick={onCart}>
            <i className="fas fa-shopping-bag"></i>
            {cartCount>0 && <span className="cart-badge">{cartCount}</span>}
          </div>
        </nav>
      </div>
    </header>
  );
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PRODUCT CARD
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function ProductCard({ product:p, onAdd }) {
  return (
    <div className="product-card">
      <img src={p.image} alt={p.name} className="product-img"
        onError={e=>{e.target.src='https://via.placeholder.com/600x300?text=Image+non+disponible';}} />
      <div className="product-body">
        <div className="product-cat">{p.category}</div>
        <h3 className="product-name">{p.name}</h3>
        <p className="product-desc">{p.description}</p>
        <div className="product-footer">
          <span className="product-price">{parseFloat(p.price).toFixed(2)} $</span>
          <button className="add-btn" onClick={()=>onAdd(p)}><i className="fas fa-plus"></i> Ajouter</button>
        </div>
      </div>
    </div>
  );
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CART SIDEBAR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function CartSidebar({ open, onClose, cart, onQty, onRemove, total, onCheckout }) {
  const tps  = total * 0.05;
  const tvq  = total * 0.09975;
  return (
    <>
      {open && <div className="overlay-bg" onClick={onClose} />}
      <div className={`cart-sidebar${open?' open':''}`}>
        <div className="cart-head">
          <h2>Votre Panier</h2>
          <button className="close-btn" onClick={onClose}><i className="fas fa-times"></i></button>
        </div>
        <div className="cart-items">
          {cart.length===0 ? (
            <div className="empty-cart"><i className="fas fa-shopping-bag"></i><p>Votre panier est vide</p></div>
          ) : cart.map(item => (
            <div key={item.id} className="cart-item">
              <img src={item.image} alt={item.name} className="cart-item-img"
                onError={e=>e.target.style.display='none'} />
              <div className="cart-item-info">
                <div className="cart-item-name">{item.name}</div>
                <div className="cart-item-price">{parseFloat(item.price).toFixed(2)} $ / unitÃ©</div>
                <div className="qty-controls">
                  <button className="qty-btn" onClick={()=>onQty(item.id,-1)}>âˆ’</button>
                  <span style={{fontWeight:600}}>{item.quantity}</span>
                  <button className="qty-btn" onClick={()=>onQty(item.id,+1)}>+</button>
                  <span style={{color:'var(--text-light)',fontSize:'.85rem',marginLeft:'auto'}}>
                    {(item.price*item.quantity).toFixed(2)} $
                  </span>
                </div>
              </div>
              <button className="remove-btn" onClick={()=>onRemove(item.id)}><i className="fas fa-trash"></i></button>
            </div>
          ))}
        </div>
        {cart.length>0 && (
          <div className="cart-foot">
            <div style={{fontSize:'.88rem',color:'var(--text-light)',marginBottom:'.6rem'}}>
              <div style={{display:'flex',justifyContent:'space-between',marginBottom:'.3rem'}}>
                <span>Sous-total</span><span>{total.toFixed(2)} $</span></div>
              <div style={{display:'flex',justifyContent:'space-between',marginBottom:'.3rem'}}>
                <span>TPS (5%)</span><span>{tps.toFixed(2)} $</span></div>
              <div style={{display:'flex',justifyContent:'space-between'}}>
                <span>TVQ (9,975%)</span><span>{tvq.toFixed(2)} $</span></div>
            </div>
            <div className="cart-total-row">
              <span>Total avec taxes</span>
              <strong>{(total+tps+tvq).toFixed(2)} $</strong>
            </div>
            <button className="checkout-btn" onClick={onCheckout}>
              <i className="fas fa-lock" style={{marginRight:'.5rem'}}></i>ProcÃ©der au paiement
            </button>
          </div>
        )}
      </div>
    </>
  );
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   AUTH MODAL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function AuthModal({ mode, onClose, onLogin, onRegister, onToggle }) {
  const [form, setForm] = useState({ name:'', email:'', password:'', phone:'', company:'' });
  const set = k => e => setForm(f=>({...f,[k]:e.target.value}));
  const submit = (e) => {
    e.preventDefault();
    if (mode==='login') onLogin(form.email, form.password);
    else onRegister(form.name, form.email, form.password, form.phone, form.company);
  };
  return (
    <div className="overlay" onClick={onClose}>
      <div className="modal" onClick={e=>e.stopPropagation()}>
        <h2>{mode==='login' ? 'Connexion' : 'CrÃ©er un compte'}</h2>
        <form onSubmit={submit}>
          {mode==='register' && <>
            <div className="form-grid">
              <div className="form-group full"><label>Nom complet *</label><input required value={form.name} onChange={set('name')} placeholder="Jean Tremblay" /></div>
              <div className="form-group"><label>TÃ©lÃ©phone</label><input value={form.phone} onChange={set('phone')} placeholder="450 000-0000" /></div>
              <div className="form-group"><label>Entreprise</label><input value={form.company} onChange={set('company')} placeholder="Nom de votre entreprise" /></div>
            </div>
          </>}
          <div className="form-group"><label>Courriel *</label><input required type="email" value={form.email} onChange={set('email')} placeholder="vous@exemple.com" /></div>
          <div className="form-group"><label>Mot de passe *</label><input required type="password" value={form.password} onChange={set('password')} placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" minLength={mode==='register'?4:1} /></div>
          <button type="submit" className="btn-primary">{mode==='login' ? 'Se connecter' : "CrÃ©er mon compte"}</button>
        </form>
        <div className="auth-switch">
          {mode==='login'
            ? <p>Pas encore de compte ? <button onClick={onToggle}>S'inscrire</button></p>
            : <p>DÃ©jÃ  un compte ? <button onClick={onToggle}>Se connecter</button></p>}
        </div>

      </div>
    </div>
  );
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   USER PROFILE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function UserProfile({ user, orders }) {
  return (
    <div className="container">
      <div className="profile-card">
        <div className="profile-head">
          <div className="avatar">{user.name.charAt(0).toUpperCase()}</div>
          <div>
            <h2 style={{fontFamily:'Playfair Display,serif',fontSize:'1.8rem',fontWeight:700}}>{user.name}</h2>
            <p style={{color:'var(--text-light)'}}>{user.email}</p>
            {user.company && <p style={{color:'var(--text-light)',fontSize:'.9rem'}}>{user.company}</p>}
          </div>
        </div>
        <h3 style={{fontFamily:'Playfair Display,serif',fontSize:'1.4rem',marginBottom:'1.3rem'}}>Mes commandes ({orders.length})</h3>
        {orders.length===0
          ? <p style={{color:'var(--text-light)'}}>Aucune commande pour l'instant.</p>
          : orders.map(o => (
            <div key={o.id} className="order-item">
              <div className="order-item-head">
                <span style={{fontWeight:700}}>#{o.id}</span>
                <span className={`tag ${o.status==='delivered'?'tag-green':'tag-orange'}`}>
                  {o.status==='delivered'?'LivrÃ©e':'En traitement'}
                </span>
              </div>
              <div style={{display:'flex',justifyContent:'space-between',color:'var(--text-light)',fontSize:'.88rem'}}>
                <span>{o.date}</span>
                <span>{o.items?.length||0} article(s)</span>
                <span style={{fontWeight:700,color:'var(--accent)'}}>{parseFloat(o.total).toFixed(2)} $</span>
              </div>
            </div>
          ))}
      </div>
    </div>
  );
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ADMIN DASHBOARD
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const EMPTY_PROD = { name:'', category:'', price:'', stock:'', description:'', image:'' };

function AdminDashboard({ products, users, orders, onSaveProduct, onDeleteProduct, onDeleteUser }) {
  const [tab,         setTab]         = useState('products');
  const [showForm,    setShowForm]    = useState(false);
  const [editProd,    setEditProd]    = useState(null);
  const [form,        setForm]        = useState(EMPTY_PROD);
  const [confirmDel,  setConfirmDel]  = useState(null); // { type:'product'|'user', id }

  const totalRev   = orders.reduce((s,o)=>s+parseFloat(o.total),0);
  const totalStock = products.reduce((s,p)=>s+parseInt(p.stock||0),0);

  const openAdd  = () => { setEditProd(null); setForm(EMPTY_PROD); setShowForm(true); };
  const openEdit = p  => { setEditProd(p); setForm({...p,price:String(p.price),stock:String(p.stock)}); setShowForm(true); };
  const handleSave = () => {
    if (!form.name||!form.price) return;
    onSaveProduct({ ...form, id:editProd?.id||null, price:parseFloat(form.price), stock:parseInt(form.stock)||0 });
    setShowForm(false);
  };

  const tabs = [
    {k:'products',label:'Produits',icon:'fa-box'},
    {k:'users',   label:'Clients', icon:'fa-users'},
    {k:'orders',  label:'Commandes',icon:'fa-receipt'},
  ];

  return (
    <div className="admin-wrap">
      <div className="admin-topbar">
        <h1>Tableau de bord</h1>
        <div style={{display:'flex',gap:'.8rem',flexWrap:'wrap'}}>
          {tabs.map(t => (
            <button key={t.k} className={`act-btn ${tab===t.k?'act-blue':''}`}
              style={{background:tab===t.k?'var(--accent)':'var(--secondary)',color:tab===t.k?'#fff':'var(--text)'}}
              onClick={()=>setTab(t.k)}>
              <i className={`fas ${t.icon}`} style={{marginRight:'.4rem'}}></i>{t.label}
            </button>
          ))}
        </div>
      </div>

      <div className="container">
        {/* Stats */}
        <div className="stats-grid">
          <div className="stat-card"><div className="stat-val">{totalRev.toFixed(2)} $</div><div className="stat-lbl">Revenus totaux</div></div>
          <div className="stat-card"><div className="stat-val">{orders.length}</div><div className="stat-lbl">Commandes</div></div>
          <div className="stat-card"><div className="stat-val">{products.length}</div><div className="stat-lbl">Produits</div></div>
          <div className="stat-card"><div className="stat-val">{users.length}</div><div className="stat-lbl">Clients inscrits</div></div>
          <div className="stat-card"><div className="stat-val">{totalStock}</div><div className="stat-lbl">Articles en stock</div></div>
        </div>

        {/* â”€â”€ TAB: PRODUCTS â”€â”€ */}
        {tab==='products' && (
          <div className="admin-card">
            <div className="admin-card-head">
              <h2>Gestion des produits</h2>
              <button className="act-btn act-blue" style={{padding:'.75rem 1.6rem',borderRadius:'50px'}} onClick={openAdd}>
                <i className="fas fa-plus" style={{marginRight:'.5rem'}}></i>Ajouter un produit
              </button>
            </div>

            {showForm && (
              <div className="product-form-box">
                <h3>{editProd ? 'âœï¸ Modifier le produit' : 'â• Nouveau produit'}</h3>
                <div className="form-grid">
                  <div className="form-group"><label>Nom *</label><input value={form.name} onChange={e=>setForm(f=>({...f,name:e.target.value}))} placeholder="Nom du produit" /></div>
                  <div className="form-group"><label>CatÃ©gorie *</label><input value={form.category} onChange={e=>setForm(f=>({...f,category:e.target.value}))} placeholder="Nettoyage, HygiÃ¨neâ€¦" /></div>
                  <div className="form-group"><label>Prix ($) *</label><input type="number" step=".01" min="0" value={form.price} onChange={e=>setForm(f=>({...f,price:e.target.value}))} placeholder="0.00" /></div>
                  <div className="form-group"><label>Stock (unitÃ©s)</label><input type="number" min="0" value={form.stock} onChange={e=>setForm(f=>({...f,stock:e.target.value}))} placeholder="0" /></div>
                  <div className="form-group full"><label>URL de l'image</label><input value={form.image} onChange={e=>setForm(f=>({...f,image:e.target.value}))} placeholder="https://â€¦" /></div>
                  <div className="form-group full"><label>Description</label><textarea value={form.description} onChange={e=>setForm(f=>({...f,description:e.target.value}))} placeholder="Description du produitâ€¦" /></div>
                </div>
                {form.image && <img src={form.image} alt="aperÃ§u" style={{width:110,height:110,objectFit:'cover',borderRadius:10,border:'2px solid var(--border)',marginBottom:'1rem'}} onError={e=>e.target.style.display='none'} />}
                <div style={{display:'flex',gap:'1rem'}}>
                  <button className="act-btn act-blue" style={{padding:'.85rem 2rem',borderRadius:'50px'}} onClick={handleSave}>
                    <i className="fas fa-save" style={{marginRight:'.5rem'}}></i>{editProd?'Enregistrer':'Ajouter'}
                  </button>
                  <button className="btn-secondary" style={{width:'auto',padding:'.85rem 2rem'}} onClick={()=>setShowForm(false)}>Annuler</button>
                </div>
              </div>
            )}

            <table className="tbl">
              <thead><tr><th>Image</th><th>Produit</th><th>CatÃ©gorie</th><th>Prix</th><th>Stock</th><th>Actions</th></tr></thead>
              <tbody>
                {products.map(p => (
                  <tr key={p.id}>
                    <td><img src={p.image} alt={p.name} onError={e=>e.target.style.opacity=0} /></td>
                    <td style={{fontWeight:600,maxWidth:180}}>{p.name}</td>
                    <td><span className="tag tag-blue">{p.category}</span></td>
                    <td style={{fontWeight:700,color:'var(--accent)'}}>{parseFloat(p.price).toFixed(2)} $</td>
                    <td>{p.stock} unitÃ©s</td>
                    <td>
                      <button className="act-btn act-blue" onClick={()=>openEdit(p)}><i className="fas fa-pen"></i> Modifier</button>
                      <button className="act-btn act-red"  onClick={()=>setConfirmDel({type:'product',id:p.id})}><i className="fas fa-trash"></i> Supprimer</button>
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        )}

        {/* â”€â”€ TAB: USERS â”€â”€ */}
        {tab==='users' && (
          <div className="admin-card">
            <div className="admin-card-head">
              <h2>Clients inscrits ({users.length})</h2>
              <span style={{color:'var(--text-light)',fontSize:'.9rem'}}>Comptes crÃ©Ã©s sur la boutique</span>
            </div>
            {users.length===0
              ? <p style={{color:'var(--text-light)',textAlign:'center',padding:'3rem'}}>Aucun client inscrit pour l'instant.</p>
              : <table className="tbl">
                  <thead><tr><th>Nom</th><th>Courriel</th><th>Entreprise</th><th>TÃ©lÃ©phone</th><th>Inscrit le</th><th>Actions</th></tr></thead>
                  <tbody>
                    {users.map(u => (
                      <tr key={u.id}>
                        <td style={{fontWeight:600}}>
                          <span style={{display:'inline-flex',alignItems:'center',justifyContent:'center',width:32,height:32,borderRadius:'50%',background:'var(--accent)',color:'#fff',fontWeight:700,fontSize:'.85rem',marginRight:'.7rem'}}>
                            {u.name.charAt(0).toUpperCase()}
                          </span>{u.name}
                        </td>
                        <td>{u.email}</td>
                        <td>{u.company||<span style={{color:'var(--text-light)',fontStyle:'italic'}}>â€”</span>}</td>
                        <td>{u.phone||<span style={{color:'var(--text-light)',fontStyle:'italic'}}>â€”</span>}</td>
                        <td>{u.createdAt||'â€”'}</td>
                        <td><button className="act-btn act-red" onClick={()=>setConfirmDel({type:'user',id:u.id})}><i className="fas fa-trash"></i> Supprimer</button></td>
                      </tr>
                    ))}
                  </tbody>
                </table>}
          </div>
        )}

        {/* â”€â”€ TAB: ORDERS â”€â”€ */}
        {tab==='orders' && (
          <div className="admin-card">
            <div className="admin-card-head"><h2>Commandes ({orders.length})</h2></div>
            <table className="tbl">
              <thead><tr><th>NÂ° Commande</th><th>Client</th><th>Date</th><th>Total</th><th>Statut</th><th>Actions</th></tr></thead>
              <tbody>
                {orders.map(o => (
                  <tr key={o.id}>
                    <td style={{fontWeight:700}}>{o.id}</td>
                    <td>
                      <div style={{fontWeight:600,fontSize:'.9rem'}}>{o.userName}</div>
                      <div style={{color:'var(--text-light)',fontSize:'.82rem'}}>{o.userEmail}</div>
                    </td>
                    <td>{o.date}</td>
                    <td style={{fontWeight:700,color:'var(--accent)'}}>{parseFloat(o.total).toFixed(2)} $</td>
                    <td><span className={`tag ${o.status==='delivered'?'tag-green':'tag-orange'}`}>{o.status==='delivered'?'LivrÃ©e':'En traitement'}</span></td>
                    <td><button className="act-btn act-blue"><i className="fas fa-eye"></i> Voir</button></td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        )}
      </div>

      {/* Confirmation suppression */}
      {confirmDel && (
        <div className="overlay" onClick={()=>setConfirmDel(null)}>
          <div className="modal" style={{maxWidth:380,textAlign:'center'}} onClick={e=>e.stopPropagation()}>
            <div style={{fontSize:'3rem',marginBottom:'1rem'}}>ğŸ—‘ï¸</div>
            <h2 style={{fontSize:'1.4rem',marginBottom:'.8rem'}}>Confirmer la suppression</h2>
            <p style={{color:'var(--text-light)',marginBottom:'1.8rem'}}>Cette action est irrÃ©versible.</p>
            <div style={{display:'flex',gap:'1rem',justifyContent:'center'}}>
              <button className="act-btn act-red" style={{padding:'.9rem 2rem',borderRadius:'50px'}}
                onClick={()=>{ confirmDel.type==='product'?onDeleteProduct(confirmDel.id):onDeleteUser(confirmDel.id); setConfirmDel(null); }}>
                Supprimer
              </button>
              <button className="btn-secondary" style={{width:'auto',padding:'.9rem 2rem'}} onClick={()=>setConfirmDel(null)}>Annuler</button>
            </div>
          </div>
        </div>
      )}
    </div>
  );
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   FOOTER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function Footer({ onView }) {
  return (
    <footer id="footer-contact">
      <div className="footer-inner">
        <div className="footer-grid">
          <div>
            <div className="footer-logo">DISPLAM</div>
            <p className="footer-desc">Solutions professionnelles de nettoyage industriel et de produits sanitaires pour vos opÃ©rations critiques.</p>
          </div>
          <div>
            <div className="footer-title">Nous joindre</div>
            <a className="footer-link" href="tel:+14509236111"><i className="fas fa-phone"></i>+1 (450) 923-6111</a>
            <a className="footer-link" href="mailto:info@displam.com"><i className="fas fa-envelope"></i>info@displam.com</a>
            <span className="footer-link"><i className="fas fa-map-marker-alt"></i><span>2035 Boulevard Ã‰douard<br/>Saint-Hubert (QC) J4T 1Z8</span></span>
          </div>
          <div>
            <div className="footer-title">Heures d'ouverture</div>
            <div className="footer-hours-row"><span>Lundi â€“ Vendredi</span><span>8h â€“ 17h</span></div>
            <div className="footer-hours-row"><span>Samedi</span><span>9h â€“ 13h</span></div>
            <div className="footer-hours-row"><span>Dimanche</span><span style={{color:'rgba(255,255,255,.4)'}}>FermÃ©</span></div>
            <div className="footer-response"><i className="fas fa-headset" style={{color:'var(--accent-light)',marginRight:'.5rem'}}></i>RÃ©ponse sous 24â€“48h</div>
          </div>
          <div>
            <div className="footer-title">Navigation</div>
            {[['shop','Boutique'],['profile','Mon compte']].map(([v,l])=>(
              <a key={v} className="footer-link" href="#" onClick={e=>{e.preventDefault();onView(v);}}>
                <i className="fas fa-chevron-right"></i>{l}
              </a>
            ))}
            <a className="footer-link" href="mailto:info@displam.com"><i className="fas fa-chevron-right"></i>Nous contacter</a>
          </div>
        </div>
        <div className="footer-bottom">
          <p>Â© 2026 Distribution Pla-m inc. Tous droits rÃ©servÃ©s.</p>
          <div style={{display:'flex',gap:'1.5rem'}}>
            <a href="#">Politique de confidentialitÃ©</a>
            <a href="#">Conditions d'utilisation</a>
          </div>
        </div>
      </div>
    </footer>
  );
}

ReactDOM.render(<App />, document.getElementById('root'));
</script>
</body>
</html>
